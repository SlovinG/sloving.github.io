---
title: MVC模式和三层架构
date: 2023-04-21
tags: 
 - MVC
 - JSP
categories:
 - JavaWeb
---

# MVC模式和三层架构

MVC 模式和三层架构是一些理论的知识，将来我们使用了它们进行代码开发会让我们代码维护性和扩展性更好。

## MVC模式

MVC 是一种分层开发的模式，其中：

- M 代表 **模型**(**Model**) 就是数据模型，每一个类就是一个模型，每一个类对象代表一个完整的数据

- V 代表 **视图**(**View**) 就是网页，JSP，用来展示模型中的数据

- C 代表 **控制器**(**Controller**) 控制器用来把不同的数据，显示在不同的视图上

![](./assets/021.png)

控制器（serlvlet）用来接收浏览器发送过来的请求，控制器调用模型（JavaBean）来获取数据，比如从数据库查询数据；控制器获取到数据后再交由视图（JSP）进行数据展示。

**MVC 的好处：**

* 职责单一，互不影响。每个角色做它自己的事，各司其职

* 有利于分工协作

* 有利于组件重用

### 2. 三层架构

三层架构是将我们的项目分成了三个层面，分别是 **表现层、业务逻辑层、数据访问层**。

<img src="./assets/488.png" alt="image-20210818164301154" style="zoom: 67%;" />

* 数据访问层：对数据库的 CRUD 基本操作

  业务逻辑层：对业务逻辑进行封装，组合数据访问层层中基本功能，形成复杂的业务逻辑功能。例如 **注册业务功能** ，我们会先调用 **数据访问层** 的 **selectByName()** 方法判断该用户名是否存在，如果不存在再调用 **数据访问层** 的 **insert()** 方法进行数据的添加操作

* 表现层：接收请求，封装数据，调用业务逻辑层，响应数据

而整个流程是，浏览器发送请求，表现层的 Servlet 接收请求并调用业务逻辑层的方法进行业务逻辑处理，而业务逻辑层方法调用数据访问层方法进行数据的操作，依次返回到 Serlvet，然后 Servlet 将数据交由 JSP 进行展示。

三层架构的每一层都有特有的包名称：

* 表现层： com.itheima.controller 或者 com.itheima.web
* 业务逻辑层：com.itheima.service
* 数据访问层：com.itheima.dao 或者 com.itheima.mapper

后期我们还会学习一些框架，不同的框架是对不同的层进行封装的：

<img src="./assets/489.png" alt="image-20210818165439826" style="zoom: 67%;" />

### 3  MVC和三层架构

通过 **MVC** 和 **三层架构** 的学习，有些人肯定混淆了。那他们有什么区别和联系？

<img src="./assets/490.png" alt="image-20210818165808589" style="zoom: 67%;" />

如上图上半部分是 MVC 模式，上图下半部分是三层架构。 **MVC 模式** 中的 C（控制器）和 V（视图）就是 **三层架构** 中的表现层，而 **MVC 模式** 中的 M（模型）就是 **三层架构** 中的 **业务逻辑层** 和 **数据访问层**。

可以将 **MVC 模式** 理解成是一个大的概念，而 **三层架构** 是对 **MVC 模式** 实现架构的思想。 那么我们以后按照要求将不同层的代码写在不同的包下，每一层里功能职责做到单一，将来如果将表现层的技术换掉，而业务逻辑层和数据访问层的代码不需要发生变化。
